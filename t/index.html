<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<title>lens.js QUnit Tests</title>
<link rel="stylesheet" href="q/unit.css">
</head>

<body>
<div id="qunit"></div>
<div id="qunit-fixture"></div>

<script type="text/javascript" src="../lens.js"></script>
<script type="text/javascript" src="q/unit.js"></script>
<script type="text/javascript">Lens.log.level('debug');</script>
<script type="text/javascript" src="template.js"></script>
<script type="text/javascript" src="strftime.js"></script>

<script type="text/html" id="template:text">
Hello, World.
</script>

<script type="text/html" id="template:vars">
Hello, [[= _.name ]]!
</script>

<script type="text/html" id="template:fibonacci">
1 1 [[ var a,b,t; for (a=1, b=2; b<(_.max||15); t=a, a=b, b=t+a) { ]][[= b ]] [[ } ]]
</script>

<script type="text/html" id="template:whitespace">
[[: if (true) { :]]
full
[[: } :]]
|
[[: if (true) { :]]
left
[[ } :]]
|
[[: if (true) { ]]
right
[[: } :]]
</script>

<script type="text/html" id="template:includer">
[[ include('text'); ]]
-----
[[ include('vars', { name: 'World' }); ]]
</script>

<script type="text/html" id="template:loop-include">
[[
    for (var i = 0; i < _.max; i++) {
      include('text');
    }
]]
</script>

<script type="text/html" id="template:escape-html">
h:          [[= lens.h(_.html) ]]
escapeHTML: [[= lens.escapeHTML(_.html) ]]
</script>

<script type="text/html" id="template:maybe">
x = [[= lens.maybe(_.x, '(not given)') ]]
</script>

<script type="text/html" id="template:url">
[[= lens.u(_.v) ]]
</script>
</body>
</html>
